---
title: "Effective C++ : Chapter 2"

categories:
    - cpp

tags:
    - [C++, Programming Language, Effective C++, destructor, copy]

toc: true
toc_label: "목차"
toc_sticky: false
classes: wide

date: 2023-12-28
---

# Constructors, Destructors, operator=

> 이 포스트는 Effective C++(3rd Edition)를 바탕으로 작성되었습니다.

## Item 8

### Prevent exceptions from leaving destructors
Functions called in a destructor may throw an exception
```c++
ClassName::~ClassName() {
    try { /* some codes */ }
    catch(...) {
        // swallow the exception
        // or
        // terminate the program by calling std::abort();
    }
}
```
- however, the destructor must catch any exceptions
    * then, swallow them or
        + it's not a best option
    * terminiate the program


## Item 12

### Copy all parts of an object
Whenever you copy the object through construction or assignment
- make sure that the operation copies all of its base class parts as well
    ```c++
    class A { /* definition */ };
    class B : public A { /* definition */ };
    B::B(const B&rhs) : A(rhs), mem(rhs.mem) {  // copy constructor
        // some codes
    }
    B& B::operator=(const B&rhs) {  // copy assignment operator
        A::operator=(rhs);
        mem = rhs.mem;
        // some codes
        return *this;
    }
    ```
- moreover, if you find that the copy constructor and copy assignment operator have similar code bodies
    * don't try to make one of them call the other
    * instead, create a third member function that both call  

[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}