---
title: "LookAt in 2D world and Rotate an object"

categories:
    - unity-self

tags:
    - [Game Engine, Unity, LookAt, rotation]

toc: true
toc_label: "목차"
toc_sticky: true

date: 2021-10-29
---

## LookAt method
- [reference site](https://forum.unity.com/threads/2d-look-at-object-disappears.390105/)
- Unity의 LookAt method는 3D를 위한 method라 2D object에 사용하면, rotation된 object를 editor에서 확인 할 수가 없다.
- 그래서 다음의 코드처럼 벡터 및 삼각함수 연산을 통해 각도를 직접 계산해야한다.
```c#
public void LookAt2D(Transform transform, Vector2 target)
{
    Vector2 current = transform.position;
    Vector2 direction = target - current;
    Single angle = Mathf.Atan2(direction.y, direction.x)*Mathf.Rad2Deg;
    // Single is a structure for float
    // Double is a structure for double
    transform.rotation = Quaternion.AngleAxis(angle, Vector3.forward);
}
```

## How to rotate an object in script
- 다양한 방법으로 구현할 수 있지만, 다음과 같은 방법으로도 구현할 수 있다.
- 다음 코드는 1 frame당 z의 rotation값을 1씩 증가시키는 코드이다.
```c#
void Update()
{
    curRotation++;
    if(curRotation >= 360)
        curRotation = 0;
    transform.eulerAngles = new Vector3(0f, 0f, curRotation);
}
```

[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}