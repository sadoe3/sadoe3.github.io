---
title: "How to Use Git"

categories:
    - etc

tags:
    - [etc, Git, GitHub, Version Control]

toc: true
toc_label: "목차"
toc_sticky: false
classes: wide

date: 2024-11-18
---

## Initial Setting

### What is Git?
- `Git` is a **version control** tool, similar to `SVN`.
- `Git` is particularly useful when working on a project with a team, allowing multiple team members to collaborate effectively.
    - However, `Git` can also be used for individual projects, especially if you want to work on the same project across multiple PCs.

### How to Download & Install Git
- Git can be **downloaded** from the [**official website**](https://git-scm.com/downloads).
- After installation, you can confirm Git is properly installed by running the command `git --version` in the command prompt (`cmd`).
    - If you see a message like `git version 2.33.0.windows.2`, the installation was successful.

### How to setup Git
- Git is used via the **command prompt** (often referred to as the **terminal**).
- To use Git effectively, you'll need to know basic terminal commands.
- Common Git command syntax is: `git [command] [-option] [--option]`.
    - examples
    - `git status`
    - `git config --list`
    - `git commit -m "message"`
- If you want to open a file in `VS Code` directly from Git, use this method:
    1. Run `git config --global core.editor "code --wait"` in cmd.
    2. When opening a file, `VS Code` will launch.
        * Git will **wait** for you to finish editing and close `VS Code` before it proceeds with further commands.
- You need to set your Git **user name** and **email** to use Git:
    - `git config --global user.name "Your Name"`
    - `git config --global user.email "email@example.com"`
    - You can check if the setup is correct with: `git config user.name`.
- Now you need to configure Git to handle **newline differences** between `Windows`(CRLF) and `Mac/Linux`(LF) systems
    - For Windows: `git config --global core.autocrlf true`
    - For Mac/Linux: `git config --global core.autocrlf input`

### Git Aliases
You can **shorten** Git **commands** using `aliases`:
- Example: `git config --global alias.st status`
    * this lets you run `git st` instead of `git status`.

### How to Learn Git Commands
- Study the [**official Git reference**](https://git-scm.com/docs) for comprehensive documentation.
- For command help, use `--help` (e.g., `git config --help`) to see available options.


## Git Workflow
Git manages files in three main areas:
- **Working Directory**: Where files are modified.
- **Staging Area**: Files added for version control.
- **`.git` Directory**: Git's internal storage for version data. You can think of this as **Git Respository**

The typical workflow involves:
1. Files in the **Working Directory** are modified.
2. After editing, files are added to the **Staging Area** using `git add`.
3. Files in the **Staging Area** are committed to the **`.git` directory** using `git commit`.
4. To sync with a remote server (like `GitHub`), use `git push` to upload your `.git` data.
5. To get changes from a remote server, use `git pull` to update your local repository.

### `.git` Directory
- **Creating a `.git` Directory**:
    - Navigate to your project directory and run `git init` to initialize a new Git repository.
    - Use `dir /a` to confirm that the `.git` directory was created.
- **Removing the .git Directory**:
    - You can delete the `.git` directory manually via the file explorer, or run `rd /s .git` in cmd.

### Tracked or Modified file
When a file is added to Git for the **first time**, it becomes an **untracked file** and exists in the **working directory**.
- By using the `add` command on an untracked file, it becomes a **tracked file** and moves to the **staging area**.
- When a **tracked file** is **modified**, it becomes a **modified file**, and the version of the **file before modification** remains in the **staging area**, while the newly **modified version** exists in the **working directory**.
    * In other words, the **same file exists** in **both** the working directory and staging area before and after modification.
    * In this case, if the `add` command is used, the **modified file** in the working directory becomes a **tracked file**, and the **pre-modified tracked file** that was in the staging area **disappears**.
        + the **newly tracked file** from the **working directory** is then moved to the **staging area**.

### Git Status
`git status` shows the current state of files, including untracked and modified files so that you can choose which files to `commit`.


## .gitignore file
In Git, if you **don't want** to include certain files in **version control**, you can add the names (including extensions) of those files to a `.gitignore` file.
- This will **prevent** those files from showing up in the `git status` untracked file list or anywhere else.
    * In other words, whether the files **exist** or not, or whether they change or not, Git will simply **ignore** them.
- There are several ways to create a `.gitignore` file.
- One method is as follows:
    1. Open **Windows Explorer** and set it to show file **extensions**.
    2. Navigate to the folder that contains the **`.git` directory**.
    3. Create a new **text file** in that folder and remove the name including **extension**, **renaming** it to `.gitignore`.
    4. This will create a `.gitignore` file in Windows.
    5. Once created, double-click the `.gitignore` file to open it.
        * You can then use a program like `VS Code` or `Notepad` to open and edit the file.
        * Add the names of the files you want to ignore, then save the file.
- In the `.gitignore` file, you can add more than just specific file names:
    - `log.log` (a specific file name, including its extension)
    - `*.log` (all files with the `.log` extension)
    - `build/` (all files inside the `build` folder)
    - `build/*.log` (all files with the `.log` extension inside the `build` folder)
    - `# comment` (you can also add comments using `#`)


## Using Git Locally
1. Initialize a **`.git` directory** in `your project folder` and **configure Git** based on the concepts covered above.
2. As you make changes, use `git add` to stage new or modified files.
    - Example: `git add NameC.txt`
    - Ways to add multiple files with `git add`:
        * Specify each file individually: `git add NameA.txt NameB.txt`
        * Specify all files with the same extension: `git add *.txt`
        * add all changes: `git add .`
    - If you want to move files from the staging area back to the working directory
        * you can use `git rm --cached *`.

3. Commit changes with `git commit`
    - When you run the command `git commit`, the text editor defined in your initial configuration (e.g., `VS Code`) will open with a file named `COMMIT_EDITMSG`.
    - In this message file:
        * The **first line** should contain the **commit title** (a **brief summary** of the commit).
            + This title is referred to as the **commit message**.
            + The title should start with a **verb**, similar to how a function name would be written.
        * From the second line onwards, you should provide **details** about the changes made in the commit.
    - Once you're done, save and close the message file, and the commit will be completed.
    - You can **view** all your **commit messages** later by running the command `git log`, which will display the commit messages you wrote during each commit.
4. Push them to a remote repository with `git push`.
5. Pull them to get updates from a remote respository with `git pull`

### Simplified Commit Workflow
You can **bypass** the `text editor` or `add` when committing:
- Use `git commit -m "message"` to commit with a message directly.
- Use `git commit -am "message"` to commit after automatically staging modified files.
    * with this command, you don't need to call `add` before calling `commit`

### Commit Best Practices
When making a `commit`, you should **not** commit the **entire project** at once.
- Instead, divide the project by features and **commit** each time **a feature** is `added`, `changed` or `removed`.
- Additionally, if the **commit message** does **not fully describe** the changes, **version control** will become much more **difficult later**.
    * Therefore, when committing, ensure that the **commit message accurately represents** the changes made.


## Git and GitHub
If you understand the concepts so far, you should be able to easily use Git on your local PC.
- However, Git is typically used with `GitHub` for version control, so now let's look at how to use Git with `GitHub`.
- `GitHub` is a server-like service that manages **remote repositories**.
- After creating a specific repository on GitHub, various people can copy that repository to their working directories on their PCs.
    * This process is called `cloning`.
- When the repository is first created, it starts with `version 1`.
- After cloning the repository, everyone who cloned it will have their own version of the repository in their working directory, but this will be `version 2` of the repository.
    * In other words, when you clone or pull, you get a version of the repository that is `+1` from the GitHub version.
- After making changes in your working directory to align the project as needed, you can `commit` the changes.
    * This prepares the modified files on your local PC to be **uploaded** to the GitHub repository.
- After committing the changes, use the `push` command to **upload** your changes to the GitHub repository.
    * However, you can only `push` if the version of your local repository is **one version ahead** of the version on GitHub.
    * Which means that you **can't** `push` if your version is `2` and the server's version is `2` or `3`.
        + you can do it only if the server's version is `1`
- Once the `push` is **successful**, the GitHub repository will be updated to match the version you pushed.
    * This means that the **GitHub repository** is now at `version 2`.
    * Moreover, your version is now incremented to `version 3`.
- When others who cloned the repository (`version 1`) and were working with `version 2`, they will need to use the `pull` command to update their local repository to `version 3`.
    * If they **don't do** this, Git will **block** the `push` because they're trying to update `version 2` with another `version 2`.
    * This situation is known as a **merge conflict**, and there are methods for resolving it, which I'll explain [**below**](https://sadoe3.github.io/etc/chatper2/#resolving-merge-conflicts).
- The `pull` command is a combination of the `fetch` and `merge` commands.
    * The command `git fetch origin` fetches the **changes information** from the repository at the URL `origin`
        + It's worth noting that `fetch` does **not modify** the **`.git` directory**.
    * The `git merge` command then **takes the changes** fetched by `git fetch` and applies them to the `.git` directory on your local PC.
    * So, the combined command `git pull origin` fetches changes from `origin` and applies them to your local `.git` directory.
- Once `pull` is successful, your local repository will be one version ahead of the GitHub repository, and you will be able to **push** your changes.

### Forking on GitHub
- `Forking` allows you to copy a repository to your own GitHub account, enabling you to make changes independently.


## Connecting Git and GitHub
1. Create a folder on your local machine for your GitHub project.
    - `cd` to that directory in the **terminal**.
2. Clone the repository from GitHub using `git clone [url]`.
    - if you don't have it, create the repository in your Github account
    - you can get the `[url]` by clicking the **button** named `code`
    - the cloned repository would exist in the new folder
3. Configure Git that I mentioned [here](https://sadoe3.github.io/etc/chatper2/#how-to-setup-git)
4. Register the **nickname** `origin` to make it easier to use the **remote repository URL** in the terminal by using this code:
    - `git remote add origin <url>`
    - You can use a name other than `origin`, but it is **common practice** to use `origin` for the remote URL.
    - You can check the URL associated with `origin` by running the command `git remote -v`.
    - Once you're done, you can **remove** the `origin` by using the command `git remote remove origin`.
5. Push changes to GitHub with `git push origin` and pull updates with `git pull origin`.


## Resolving Merge Conflicts
When a **merge conflict** occurs, `push` is **not allowed**.
- To identify which parts have been changed, you first need to `pull` the updated repository.
- After performing the `pull`, any files with merge conflicts in the working directory will contain **changes** from **both** your `local PC` and the `updated repository` on GitHub.
- The section between `<<<<<<< HEAD` and `=======` represents
    * the changes made **locally**
- and the section between `=======` and `>>>>>> refs/remotes/origin/main` (this part may vary depending on the situation)
    * represents the changes from the **remote** repository.
- By comparing the two conflicting files, you'll notice that the code block **starts** at the **first difference** and **ends** at the **last difference**.
    * Within this block, there may be **identical sections** in both versions.
- To **resolve** the conflict, you can either **remove** one version or appropriately **combine** the two (change both files to the same code), based on your goals.
    * After resolving the conflict, `commit` the changes and `push` them to complete the merge.
- Once the conflict is properly resolved, the final code should have the `<<<<<<< HEAD`, `=======`, and `>>>>>> refs/remotes/origin/main` markers **completely removed**.


## GitHub and VS Code
When using GitHub and VS Code together, there are two main ways to work with Git:
1. **Using the terminal (the traditional method)**
    - In this method, after making changes to a GitHub repository in VS Code, you use the terminal to navigate to the cloned repository with the `cd` command and then perform `push` and `pull`.
    - This method is similar to traditional Git usage, so it's familiar and has the advantage of being well-known.
        * However, it can be less convenient compared to the second method outlined below.
2. **Using VS Code's built-in Git features**
    - This method is very convenient, but since it differs from the traditional Git workflow, you need to learn new concepts.
    - However, once you get the hang of it, you can use Git very easily, making it a good method to learn for efficiency.

### Using `VS Code`'s Git Features
`Cloning` can also be done within VS Code, but since `cloning` is more intuitive in the **terminal**, I have not covered `cloning` in detail here.
- Instead, I will focus on how to perform `push` and `pull` operations in VS Code after the repository has been cloned.

### How to `push` in VS Code:
1. Make changes to the cloned repository as needed.
2. On the left side of VS Code, you'll see five buttons.
    * Click on the **Source Control** button, which is located in the middle.
3. In the **Source Control** panel, modified files will appear under the **Changes** category.
    * On the left of each file, there is a `+` button.
        + Clicking the `+` button will stage the file, meaning it will be `added` to the **staging area**. 
        + it's worth noting that you can enter the **commit message** and press `ctrl + enter` to perform `git commit -am "message"`
    - If you don't want to stage all changes, you can click the `+` button next to **specific files** you want to add.
4. After staging the changes, look to the top right of the **Source Control** panel.
    * You'll see a checkmark button. Click it to `commit` the changes.
        + After clicking the button, a field will appear at the top center of VS Code where you can enter a commit message.
    * After entering the message, press **Enter** to complete the `commit`.
5. After committing, go to the top right of the **Source Control** panel
    * click the button with three dots (`...`).
    * From the dropdown, click **Push** to perform `git push origin`.

### How to `pull` in VS Code:
1. Another person updates the repository elsewhere.
2. Click the **Source Control** button
    * then click the button with three dots (`...`)
    * select **Pull** to execute `git pull origin`.

### Additional Features:
- If you **don't want** to perform the `pull` or `push` operation on the **default origin URL**
    * click the button with three dots (`...`)
    * then click `Pull from` or `Push to`
    * and select the specific URL you want to perform the operation on.
- If you want to **discard** changes to a specific file
    * in the **Changes** category, click the undo-like button next to the file to discard the changes for that file.
- Finally, if you want to use the **terminal** for Git commands in the repository
    * you can open a terminal in VS Code by selecting `Terminal -> New Terminal` from the menu.
        + This will open a terminal with the repository folder already `cd`-ed into the appropriate directory.
    - From there, you can use Git as you would in a normal terminal.

### Resolving Merge Conflicts in VS Code
When a merge conflict occurs in a specific file, go to the **Source Control** panel in VS Code.
- You'll find the `conflicting files` listed under the **Merge Changes** category.
- Double-click the conflicted file to open it.
    * You'll see the code split into two sections marked by `HEAD`, `=====`, and `>>>>`.
- The **Current Change** at the top is
    * the change made on your **local** machine
- and the **Incoming Change** at the bottom represents
    * the changes from the GitHub **server**.
- Right above the `HEAD` section, you'll see four clickable options:
    * **Accept Current Change**, **Accept Incoming Change**, and two others. 
        + These options help you decide how to resolve the conflict.
    * If you want to keep your changes and **discard** the ones from **GitHub**, click **Accept Current Change**.
        + This will remove the incoming changes and leave your local changes intact.
    - By systematically resolving conflicts like this, you can fix all the conflicted sections in the file.
- After you've saved the file, remember to **add**, **commit**, and **push** the resolved changes to GitHub.
- While you can solve conflicts **one by one**,
    * you can also right-click the conflicted file in the **Source Control** panel and select either **Accept Incoming Change** or **Accept Current Change** to apply those changes throughout the **entire file**.
- If things get too tangled or complicated, you can always delete the file and re-clone the repository.
    * However, it's recommended to first check the status with `git status`
    * and based on the terminal hints, you can appropriately use `git pull` and `git push` to resolve the conflicts.

### Viewing Commit History on GitHub
While you can check the **commit history** by installing the `GitHub Desktop application`
- if you're not using this program, you can simply go to the GitHub **website**, log in, and navigate to the relevant repository.
- There, you'll be able to see the most recent commit right below the line with the **Code** button and other options.
- On the right side of that line, you'll see a clock icon and the number of commits made so far.
    * By clicking on the clock icon or the commit number, you can view the **full commit history** for that project.


## NuGet for a Unity Project Managed by GitHub
`NuGet` for Unity is not available in the package manager, so you need to download it from the Internet and import it as a custom package.
- However, if someone else has already imported it and pushed the project, when you pull the project to your local machine, you may encounter an issue
    * where when trying to import the NuGet for Unity package, it shows `"Nothing to import"` and prevents the import.
- In this case, simply **closing and reopening** the project will resolve the issue, and NuGet for Unity will be installed automatically on your local machine.
    - Additionally, this will automatically install any APIs that someone else may have previously installed.


[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}