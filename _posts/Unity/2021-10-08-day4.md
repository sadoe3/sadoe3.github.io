---
title: "Unity 강의 - Day 4"

categories:
    - unity

tags:
    - [Game Engine, Unity]

toc: true
toc_label: "목차"

date: 2021-10-08 
---

전주정보문화산업진흥원에서 진행하는 **게임콘텐츠(Unity3D) 제작 실무자 양성과정** 강의를 듣고 정리한 필기입니다.
{: .notice--warning}

## UI 구조도
- UI 구조도는 Software의 화면에 대한 흐름 정해주는 것입니다.
<pre>
ex) Game start -> Main Screen -> Level_1
                              -> Level_2
                              -> Level_3
</pre>

## Input을 처리하는 방법
- Input class의 method들을 이용하면 됩니다.
- 어떤 key가 입력되었는지를 확인하기 위해선 KeyCode를 이용하면 됩니다.
    -
    ```c#
    KeyCode.Space // example of using KeyCode
    ```
- 대표적인 method들
    - 
    ```c#
    Input.GetKeyDown(KeyCode.Space) // this method returns true during the frame the user starts pressing down the key identified by name.
    Input.GetKey(KeyCode.Space) // this method returns true while the user holds down the key identified by name.
    Input.GetKeyUp(KeyCode.Space) // this method returns true during the frame the user releases the key identified by name.
    Input.GetButton("button_Name") // this method returns true while the virtual button identified by buttonName is held down.
    Input.GetAxis("Axis_Name") //  this method returns the value of the virtual axis identified by axisName.
    ```
    - 축 이름은 Horizontal, Vertical 말고도 다양한 축이 있음
    - 다양한 축들에 대한 설정을 변경하는 방법
        - Edit -> Project Setting -> Input Manager -> Axes -> 알맞는 축 적절히 변경하기
        - 이러한 설정을 하면, multi-platform게임을 만들때, Input 설정에서 유용하게 사용할 수 있음

## Time.deltaTime
- 바로 이전 frame에서 현재 frame까지 걸린 시간은 Time.deltaTime이라는 property를 이용하여 알 수 있습니다.
- 보통 deltaTime은 특정 값에 누적시켰다가, 해당 값이 일정 수준이 지나면 특정 처리를 진행하고, 이후 특정 값을 초기화시킨 후, 다시 누적시키는 식으로 사용합니다. 

## LookAt()
- 특정 오브젝트의 transform component에 있는 LookAt(Transform target) method를 이용하면, 해당 오브젝트가 target으로 입력받은 오브젝트를 바라보도록 rotation을 시킬 수 있습니다.
- example of using LookAt()
```c#
Transform target = FindObjectOfType<Class_Name>().transform;
gameObject.transform.LookAt(target);
```

## transform
- script에서 transform이라는 오브젝트를 이용하면, 해당 script가 적용된 오브젝트의 Transform Component값을 처리할 수 있게된다.

## transform.direction
- 위에서 설명한 transform 오브젝트를 이용하면 특정 방향을 나타내는 Vector3값을 얻을 수 있습니다.
    - 선형대수에서 벡터를 사용하는 방법을 알고 있다면, 이러한 지식은 Vector3 object를 사용하는데 많은 도움이 되어, Vector3 object를 보다 더 쉽게 사용할 수 있게 됩니다.
- 종류는 다음과 같습니다.
- transform.
    - up, down, left, right, forward, back

## How to move object by using script
1. Script에서 Rigidbody property를 public이나 private access로 만든다.
    - public으로 만들경우, Unity에서 해당 Script를 특정 오브젝트에 적용시킨 후, 해당 오브젝트의 Rigidbody component를 script의 rigidbody property에 drag & drop 한다.
    - private으로 만들경우, Start() method에서 GetComponent\<Component_name>()을 이용하면 된다.
    - example of using private Rigidbody
    ```c#
    public Rigidbody playerRigidBody;
    ... // some codes
    void Start()
    {
        playerRigidBody = GetComponent<Rigidbody>();
    }
    ```
2. Script에서 float이나 int type의 speed property를 private이나 public으로 만든다.
    - script에서 speed를 처리하고 싶으면 private, Unity에서 처리하고 싶으면 public으로 설정해주면 됨
3. 이후 다양한 방법으로 object를 움직이게 만들 수 있는데, 이번에는 Velocity값을 변경시키는 방법을 사용해보려고 함
4. example of using Velocity method
```c#
public Rigidbody playerRigidBody;
private float speed = 6f;
... // some code
void Update()
{
    float xInput = Input.GetAxis("Horizontal");
    float zInput = Input.GetAxis("Vertical");
    float xSpeed = xInput * speed;
    float zSpeed = zInput * speed;

    Vector3 velocity = new Vector3(xSpeed, -Physics.gravity.magnitude * Time.deltaTime, zSpeed);
    playerRigidBody.velocity = velocity;
}
```
- 이 방식은 모든 frame에서 일정하게 움직이는 object를 만들 때 사용된다, 즉 가속도가 없는 움직임을 구현할 때 사용함

## 간단한 Vector3 사용법
- example of using Vector3 object
```c#
Vector3 objectA = new Vector3(0f,0f,0f);
Vector3 objectB = new Vector3(1f,3f,5f);
Vector3 objectC = objectA - objectB; // objectC는 B에서 A로 가는 방향을 갖는 Vector입니다.
float speed = 3.5f;
Vector3 objectD = objectC * speed; // objectD는 objectC와 같은 방향을 갖지만, 3.5라는 objectC와는 다른 크기를 갖는 Vector입니다. 
```
- 이러한 방식을 이용하면, 위에서 설명한 velocity를 이용하는 방식을 사용할때, 내가 원하는 방향과 내가 원하는 크기(속력)을 갖고 있는 벡터를 만들고, 이를 특정 rigidbody component의 velocity에 적용하여, 특정 object를 움직이는데 사용할 수도 있습니다.

## AddForce()
- AddForce()를 이용해서도, object를 움직이게 할 수 있습니다.
- example of using AddForce()
```c#
public Rigidbody objectRigidbody;
private float speedJump = 4.1f;
... // some codes
void Update()
{
    if(Input.GetButton("Jump"))
    {
        objectRigidbody.AddForce(transform.up * speedJump);
    }
}
```
- 다만 위의 예제처럼 사용하게 되면, 해당 오브젝트에 계속해서 특정 force가 누적되게 되어, 오브젝트는 frame이 증가될때마다 점차적으로 더 많은 거리를 움직이게 됩니다.
- 전에 설명한 Velocity를 변경하는 방법은 Update() method안에서 사용해도, speed가 변경되지 않은 한 frame마다 동일한 거리를 움직인다는 점에서 두 방식의 차이가 있다고 생각하면 됩니다.

## How to deploy the game
- Unity에서 게임을 빌드하는 방법은 다음과 같습니다.
- File -> Build Setting -> 알맞게 설정하기 -> Build -> Build Folder 선택 -> 이후, 해당 folder에 빌드된 파일들이 생성됩니다.

[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}