---
title: "How to use GitHub with Unity"

categories:
    - unity-self

tags:
    - [Game Engine, Unity, GitHub]

toc: true
toc_label: "목차"
toc_sticky: true

date: 2021-11-07
---

이번 포스트는 이 [영상](https://www.youtube.com/watch?v=wBsSUBEUYV4)을 참고하여 만들게 되었습니다.
또한, Git과 GitHub에 대한 전반적인 사용법을 이미 숙지하고 있다고 가정하고 만들었습니다.
{: .notice--warning}

## How to use GitHub with Unity
1. Unity Project를 만든다.
    - 이미 있으면 skip
2. GitHub에 해당 Unity Project를 upload할 repository를 만든다.
    - 만들 때, 다음과 같은 세부사항들을 적절히 설정해주자
    - 해당 repository를 공개하고 싶지 않다면 private으로 만들기
    - README가 필요하면 해당 체크박스 체크해주기
    - .gitignore를 Unity로 설정해서 추가해주기
    - license 적절히 설정해주기
        - private repository이면 설정 안 해도 됨
        - public repository라면 적절하게 설정해주면 됨
3. 이후 GitHub desktop application을 설치하여 진행해도 되지만, 그냥 Git만 설치하고 terminal로 진행해도 됨
    - 영상에서는 desktop app을 사용했지만, 이번 포스팅에서는 terminal을 이용한 방법으로 진행됨
4. terminal에서 해당 repository의 url을 복사한 뒤, `git clone origin`을 이용하여, 해당 repository를 local pc로 cloning한다.
    - 이후, terminal에서 local pc에서 cloning된 repository의 위치로 `cd`를 진행하고, `git remote add origin url`을 이용하여 origin을 해당 repository의 url로 설정해준다.
5. local pc에서 cloning된 repository의 위치에, step1에서 만든 Unity Project 폴더 안에 있는 Assets 폴더와 ProjectSettings 폴더를 넣어준다.
    - Unity Project 폴더 안에는 많은 폴더들이 있는데, 이 2가지의 폴더만 넣어주는 이유는 이것들을 제외한 나머지 폴더들은 Unity Project에서 모든 팀원들이 똑같이 수정해도, 사용하는 local pc에 따라 다르게 변경되기 때문에, 나머지 폴더들은 팀원들과 공유를 하면 안되기 때문이다.
        - 즉, 팀원들이 동일한 프로젝트에서 동일한 수정을 해도, 이 두가지 폴더들을 제외한 나머지 폴더들에 대해서, 모든 팀원들이 서로 다른 데이터를 갖고 있게 된다는 뜻이다.
        - 그래서 팀원들은 동일한 project를 동일하게 수정했을 때 동일한 데이터를 갖는, 즉 모든 pc에서 동일하게 변경되는, Assets 폴더와 ProjectSettings 폴더 이렇게 2가지의 폴더만 공유해 주면 되고, 이 두가지의 폴더들을 제외한 폴더들은 공유하지 않아야 한다
        - 나머지 폴더들을 공유하지 않기 위해서 .gitignore파일을 사용해야 되는데, 이걸 쉽게 수행하기 위해서 step2에서 .gitignore파일을 Unity template으로 만들어준 것이다.
    - .gitignore 파일은 Unity Project 폴더 안에 있던 밖에 있던 모두 정상적으로 작동한다.
6. 이후, local pc에서 Unity Project 폴더 안에 있는 .gitignore파일을 열어서, 다음과 같은 사항들을 바꿔준다.
    - 위쪽부분에 있는 Libary, Temp, Build 폴더 등의 주석을 해제하여, 해당 폴더들을 git에서 ignore할 수 있도록 해준다.
        - 이 과정을 하지 않게 되면, Libary 폴더 등의 파일에서 꼬이게 되어, `pull`이 안되는 상황이 발생할 수도 있다.
    - 위쪽부분에 주석처리를 해제한 후, \[Uu]ser\[Ss]ettings/와 \[Pp]ackages/를 추가한다.
        - \[Uu]같은 것을 사용하는 이유는 대소문자 모두 허용하게 설정하기 위해서 사용하는 것이다.
        - 이 두개의 폴더가 Unity Template에 없는 이유는 UserSettings은 비교적 최근에 생겨서 아직 추가가 안된 것이고, Packages는 필요한 상황이 발생할 수도 있어서 추가가 되지 않은 것이다.
        - 근데 보통 이 두가지의 폴더들도 공유하면 안되기 때문에, 이 폴더들도 .gitignore파일에 추가해주면 된다. 
7. terminal에서 `commit -am "Initialize Unity Project"`라는 command를 이용하여, `commit`을 진행하고, 이후 `git push origin`을 이용하여, `commit`된 project를 repository에 `push`한다.
8. 여기까지 오면, GitHub와 Unity를 사용하기 위한 초기설정을 마친 것이고, 이제는 해당 repository에 다른 개발자들을 초대해주면된다.
    - 초대하는 방법은 크게 2가지이다
    - 첫번째 방법은 repository settings에 들어가서, manage access에서 `Invite a Collaborator`버튼을 누른 뒤, 개발자의 GitHub username이나 email을 이용하여 다른 개발자들을 초대하는 방법이다.
    - 두번째 방법은 organization을 만들어서, project를 공유하는 방법이다.
    - 두번째 방법은 일반 GitHub에서 사용할 수도 있지만, GitHub Pro를 사용하면 더 좋게 사용할 수 있다.
    - 그래서 상황에 알맞게, 첫번째 방법이나 두번째 방법 중 하나를 선택해서 적절히 초대해 주면된다.
9. 이후에는 기존에 GitHub를 사용하는 방식처럼 사용해주면 된다.
    - 즉, 초대된 개발자들은 우선 해당 repository를 `clone`해주는 식으로 시작한 후,
    - 파일들을 수정하면, `commit`후에 `push`를 해주면 되고,
    - 수정된 파일들을 적용시키려면, `pull`을 사용해주면 된다.
        - 보통 main branch이기 때문에 `git pull origin main`을 이용하여 `pull`을 진행하지만, branch가 여러가지로 나눠지는 경우, 알맞는 branch를 main 대신에 써주면 된다.
        - 또한 main branch 밖에 없는 경우, 그냥 `git pull origin`이라고만 사용해도 정상적으로 `pull`이 된다.
    - `pull`을 할때 meta file들이 꼬여서 진행할 수 없는 경우, local pc에 있는 해당 meta file들을 지우고, 다시 `pull`을 하면 정상적으로 진행할 수 있게 된다.
    - `pull`을 할때 merge conflict때문에 진행 못하는 경우, 내 변경사항을 없애고 싶으면, `git stash`을 해주면 된다.
        - 이후 다시 `git pull`하면 정상적으로 처리됨
10. 나중에 package manager에서 cinemachine같은 package를 install하게 되는 경우, 이건 모든 팀원들이 동일한 version으로 install하면, 꼬이지 않고 정상적으로 사용할 수 있다.
    - 즉, 누군가가 install을 하고 `push`를 한 뒤, 다른 사람들이 `pull`을 한다고 해도, 해당 package가 install 되지 않는다는 의미
    - package는 `pull`을 통해 install하는게 아니라, 모든 팀원들이 자신의 pc에 있는 package manager에서 동일한 version의 package를 install하는 식으로 사용하는 것이라는 의미

## GitHub와 Unity를 함께 사용할 때 주의할 점
- 팀원 모두 동일한 version의 Unity를 사용하도록 하자 (맨 마지막의 patch version까지 동일해야함)
    - 이렇게 해야 팀원들이 서로 안 꼬이면서 GitHub와 Unity를 사용할 수 있음
- 팀원 모두 동일한 Asset Serialzation Mode로 설정하도록 하자
    - Unity Project의 project settings에서 editor로 들어가면, 설정할 수 있음
    - 보통 편의를 위해 Force Text로 사용함
- 팀원 모두 동일한 Version Control Mode로 설정하도록 하자
    - Unity Project의 project settings에서 editor로 들어가면, 설정할 수 있음
    - 보통 Visible Meta Files로 사용함
- 또한 meta 파일에 대한 개념도 위에서 언급한 참고영상을 보면서 이해하면 좋다.

## GitHub를 사용하지 않고, Unity 관련 파일을 보내는 방법
- 해당 파일을 그것의 meta 파일과 함께 보내야함
- 아니면, 그냥 Unity Export Package를 이용해서 보내도 됨


[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}