---
title: "Unity 강의 - Day 5"

categories:
    - unity-lecture

tags:
    - [Game Engine, Unity]

toc: true
toc_label: "목차"
toc_sticky: true

date: 2021-10-18 
---

전주정보문화산업진흥원에서 진행하는 **게임콘텐츠(Unity3D) 제작 실무자 양성과정** 강의를 듣고 정리한 필기입니다.
{: .notice--warning}

## How to view source code of Unity
- Script Editor에서 특정 class나 method의 source code를 보고 싶은 경우, 해당 class나 method의 이름을 클릭한 후 f12를 누르면, source code를 볼수있다.

## How to use class as a component
- Unity에서 특정 class를 component처럼 사용하기 위해선 2가지 조건을 만족해야한다.
    1. 해당 class는 MonoBehaviour를 inherit해야한다
    2. 해당 class가 들어 있는 script의 이름은 해당 class의 이름이어야 한다.
- 그렇기 때문에, component로 사용할 class는 자신만의 script 파일에 존재한다고 생각하면 된다.
- 물론, component로 사용하지 않을 class는 MonoBehaviour를 inherit 할 필요도 없고, 자신만의 script 파일에 존재할 필요도 없다.
- 즉, component로 사용하지 않을 class는 다른 script파일 내에 존재해도 되는 것이고, 실제로도 다양한 2개 이상의 class들을 갖고 있는 script파일들이 실제로도 많이 사용된다.

## 2D 개발을 할 때, 설정해 줘야할 것들
1. Scene Window의 왼쪽 상단에 2D 버튼을 눌러서, scene의 화면을 2D로 볼수있게한다.
2. Camera object -> Inspector window -> Perspective로 되어있는 것을 Orthographic으로 설정한다.
    - Perspective를 사용하게 되면, 원근이 적용되고, Orthographic으로 설정하게되면, 원근이 적용되지 않아, 보통 2D개발에서는 Orthographic이 많이 사용된다.

## How to install packages
1. Project파일을 연다.
2. Window -> Package Manager
3. In Project로 되어있는 것을 Unity Registry로 바꾼다.
    - In Project에는 현재 프로젝트에서 사용되는 package만 리스트되게 되는 것이고, Unity Registry는 Unity에서 사용할 수 있는 모든 Package가 리스트된다.
4. 원하는 Package를 선택한다.
5. 우측 하단에 install 버튼을 누르면, 해당 프로젝트에 선택된 package를 설치할 수 있게된다.

## How to import Sprites
1. 일반적인 파일을 import하는 방법으로 sprite 파일을 프로젝트에 import 한다.
2. import된 파일을 선택한 후, inspector -> texture type을 sprite로 설정한다.
3. sprite mode를 multiple로 설정한다.
    - slice를 하려면 multiple로 설정하고, slice를 하지 않을거면 single로 사용해도 괜찮음
4. 해당 sprite 파일의 세부설정을 적절히 한다.
    - read/write enabled를 키게되면 실제 파일이 변경됨, 대신 메모리를 2,3배로 먹음
    - wrap mode에서 clamp는 오브젝트의 크기를 늘리면 scale값이 증가되는 식으로 적용이 되고, repeat은 scale값은 그대로 되고 증가된 자리에 동일한 sprite가 반복적으로 출력되는 식으로 적용이 됨
5. sprite 파일을 slice 한다
    - sprite 오브젝트의 inspector window의 중간쯤에 위치한 sprite editor 버튼을 클릭해서 slice을 진행할 수 있음
    - slice editor에서는 왼쪽 상단에 slice 버튼을 눌러 slice를 수행할 수 있고, 이후 우측 상단에 apply버튼을 누르면 slice가 적용됨

## TextMeshPro
- Unity에서 자체적으로 제공하는 Text는 사용하기 불편함. 그래서 대부분의 Unity 이용자들은 Text 대신 TextMeshPro를 이용함.
- TextMeshPro를 프로젝트에서 처음 사용하면, tmp importer window가 뜨게 되고, 여기서 import tmp essentials를 눌러서 필수 요소를 import시킬 수 있고, 좀더 import 하고 싶으면, import tmp examples & extras를 누르면 됨.
- 앞으로도 Text를 사용할 상황이면, TextMeshPro로 대신 사용하면 됨.

## How to use TextMeshPro in Script
- 일반적인 Text를 Script에서 사용할 경우, UnityEngine.UI namespace를 추가한 후, public Text textName 이라는 property를 만든 뒤, unity editor에서 drag & drop을 해주었다.
- TextMeshPro를 Script에서 사용할 경우, TMPro namespace를 추가해 주고, public TextMeshProUGUI textName 이라는 property를 만든 뒤, unity editor에서 drag & drop을 해주면 된다.

## Fonts in Unity
- [Google Fonts](https://fonts.google.com/)에서 무료 fonts를 받을 수 있음
    - Open Sans는 다양한 언어를 지원하는 대표적인 font임
- Unity에서 TextMeshPro 용 폰트를 만드는 방법
    1. Drag & Drop 으로 폰트 파일을 프로젝트에 import한다.
    2. 해당 폰트 파일 우클릭 -> Create -> TextMeshPro -> Font Asset
    3. 이러면 TMP용 font가 만들어지게 된다.
    4. 이후 TMP 오브젝트의 inspector window에서 해당 폰트 파일을 drag & drop 해주면 된다.
- TMP 용 폰트를 만들게 되면 세부설정에서 다양한 것들을 설정할 수 있음.
    - Atlas Width/Height를 키워놔야 다양한 언어가 출력되는게 보장됨, 대신 메모리를 그만큼 많이 사용하게 됨
    - TMP용 폰트의 세부사항을 변경하면, 해당 폰트가 적용된 모든 TMP 오브젝트들이 자동적으로 변경된다.

## Canvas Scaler
- Canvas Scaler는 Canvas를 만들게 되면, 반드시 설정해야 하는 component이다.
- 기본값으로 constant pixel size가 적용되어 있는데, 이는 모든기기에서 동일한 pixel을 사용한다는 의미이다.
    - 영화에선 좋지만, 게임에서는 상당히 안좋음
- 그래서 보통 scale with screen size로 설정한다.
    - 해상도로 scale를 설정해줌
- 마지막으로 constant physical size로 설정할 수도 있다.
    - 이 값으로 설정하면, 화면 크기와 해상도에 관계없이 UI 요소가 동일한 물리적인 크기로 유지된다.

## Rect Transform
- UI를 다룰 때, 제일 중요하게 다루어야 되는 component가 바로 Rect Transform이라는 component이다.
- 모든 UI 오브젝트들은 Rect Transform 이라는 component 갖게 되는데, 이 component를 통해 Canvas에서 해당 오브젝트가 어느 부분에 위치하는지를 지정해 줄 수 있다.
- Rect Transform에서 다음의 내용들을 설정할 수 있다.
    - Pos, W/H, Anchor, Pivot, Rotation, Scale
- Rect Transform inspector의 왼쪽 상단에 있는 anchor preset을 이용하면, 쉽게 오브젝트의 위치를 지정할 수 있다.
    - 지정할 때, shift+alt를 같이 눌러주면, 실제 오브젝트의 pos + pivot 위치도 anchor와 함께 결정됨
    - 그래서 보통 shift+alt를 이용한 방식을 자주 사용함
- 만약에 anchor preset을 stretch로 지정하게 되면, 해당 오브젝트는 parent object의 크기가 변경될때마다, 이에 비례하여 자신의 크기도 변경됨 
- anchor preset으로 오브젝트의 위치를 설정하게 되면, 해당 오브젝트의 위치가 모든 device에서 동일하게 표현됨
    - 단순히 pos값만 변경하면, device마다 다르게 표현될 수도 있기 때문에, anchor preset을 통해 위치를 설정해주는 것이 상당히 중요함

## Render Mode of Canvas
- Render Mode는 크게 3가지 종류가 있다.
1. World Space
    - UI Event를 어떤 카메라로 처리하는지 설정함. 설정하지 않으면 메인 카메라가 적용됨
    - RPG 할때 캐릭터 주변 UI 같은 것들을 만들때 사용 (ex: 머리위에 나오는 HP 게이지)
2. Overlay
    - 실제 게임 화면에 canvas를 overlay시킴. 보통 사용하는 방법
    - 직관적이긴 하지만, canvas 위로 다른 오브젝트를 렌더링 할 수 없다는 단점이 있음
3. Camera
    - 특정 카메라의 시점에서 UI를 처리함
    - Overlay와는 다르게, canvas 위로 다른 오브젝트를 렌더링 할 수 있음
- Render Mode의 Pixel Perfect기능을 사용하게 되면, 다양한 해상도에서 픽셀 아트를 선명하고 또렷하게 유지하고 안정적인 모션을 구현하도록 해줌
    - 그래서 보통 2D 게임 개발에서 사용함
- Render Mode의 Soft Order값은 여러 오브젝트들이 겹치게 되었을 때, 어떠한 순서로 rendering을 할지 결정해줌
    - 0이 가장 밑, 이후 점점 위로 올라감
- 그래서 Canvas의 render mode에 따라 하나의 scene에서 여러개의 canvas object를 사용할 수도 있다.

## How to manage multiple UI objects at once
- 여러개의 Button이나, Text 오브젝트들은 다음과 같은 방법으로 한번에 관리할 수 있다.
1. canvas에서 empty object를 create한다.
    - 그래야 해당 object가 rect transform component를 갖게 됨
2. 해당 object에 layout group component를 추가함
    - 종류는 3종류가 있음: vertical, horizontal, grid
3. 한번에 처리할 오브젝트들을 해당 empty object에 child object로 만든다
4. empty object의 layout group component의 값들을 적절히 바꿔서, 알맞게 정렬및 위치를 설정해주면 된다
    - 모든 기능을 사용하지 않을 생각이라면, 그냥 checkbox를 모두 풀면됨
    - 근데 특정 기능을 사용할 생각이라면, alignment 설정을 할 수 있고, spacing으로 오브젝트들과의 차이구간을 줄수있음
    - control child size와 child for expand를 체크하게되면, empty object의 크기에 꽉차게 UI오브젝트들의 크기를 자동으로 설정해줌

## static Instance
- code를 다음과 같이 작성하게 되면, 다른 script에서 특정 script의 Instance를 접근할 수 있게된다.
```c#
ClassName {
	public static ClassName Instance;
	void Awake() {
		Instance = this;
	}
}
```
- ClassName.Instance를 통해 접근하면 된다.
- 이러한 방식을 singleton pattern이라고도 부른다

[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}