---
title: "Qt6 : File I/O"

categories:
    - qt6

tags:
    - [Qt6, GUI, C++, File I/O, QFile]

toc: true
toc_label: "목차"
toc_sticky: false
classes: wide

date: 2024-11-17
---

# File I/O

## `QFile`
In order to handle **file I/O** in Qt, you need to use `QFile` class
```c++
#include <QFile>
// you can create QFile object with the string which contains the path of the file including the extension
QFile file("C:\\data.bin");
```


## Writing
You can write to a file by following the stepts below
1. open the stream for the file
    ```c++
    file.open(QFile::ReadWrite);
    // or if you want text file then
    file.open(QFile::ReadWrite | QFile::Text)

    // create the file if the file doesn't exist, otherwise append to it
    file.open(QFile::WriteOnly | QFile::Append | QFile::Text);
    ```
    * you can change the mode like
        + `QFile::WriteOnly`, `QFile::Append`, `QFile::Text`
    * it's worth noting that you can set multiple modes at once by using `|`
2. create write stream
    ```c++
    QDataStream streamName(&file);
    // For text file
    QTextStream streamName(&file);
    ```
3. write the contents
    ```c++
    streamName << “contents”;
    ```
4. close the stream
    ```c++
    file.close();
    ```


### Reading
You can read from a file by following the stepts below
1. open the stream for the file
    ```c++
    // Same as writing
    file.open(QFile::ReadWrite);
    ```
2. check if the file exists
    ```c++
    if(file.exists()) { }
    ```
3. create read stream
    ```c++
    // Same as writing
    QDataStream streamName(&file);
    ```
4. read file
    ```c++
    While(!streamName.atEnd()) {
        // for binary file
		char * raw;
		uint length;		
        streamName.readBytes(raw, length);
        for(unsigned currentCount = 0; currentCount < length; currentCount++)
            content += raw[currentCount];

        // for for text file (the stream is QTextStream)
		content = streamName.readLine();
    }
    ```
5. close the stream
    ```c++
    // Same as writing
    file.close()
    ```


[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}