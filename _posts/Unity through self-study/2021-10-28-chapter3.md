---
title: "PopUp window in Unity"

categories:
    - unity-self

tags:
    - [Game Engine, Unity, PopUp]

toc: true
toc_label: "목차"
toc_sticky: true

date: 2021-10-29
---

## How to implement PopUp window in Unity
- 다양한 방식으로 popup window를 구현할 수 있는데, 이번에 사용해 볼 방식은 다음과 같다.
1. 기존에 있었던 UI들을 BaseUI라는 empty object에 넣는다.
2. BaseUI에 들어있던 canvas object에서 panel을 하나 만들고, 이름 PopupUI라고 설정하고, rgba값을 적절히 설정한다
3. Hierarchy에서 PopupUI를 BaseUI보다 밑에 두게 한뒤, PopupUI object의 child object로 popup window를 적절히 만들어준다. 
    - 최소한 popup 창을 닫을 button을 넣어줘야 함
    - TMP object 같은 것들 통해 pop message를 전달해주면 됨
4. 여기서 부턴 2가지의 방법으로 구현할 수 있다.
    - 첫번째 방법은 popup을 단순한 message를 보여주는 용도로만 사용하여, script를 사용하지 않고 만드는 방법이며
    - 두번째 방법은 popup에서 특정 button이 눌리면, 특정 method가 call이 되는 기능을 구현하기 위해 script를 사용하는 방법이다

## Script를 사용하지 않는 방법
- [reference site](https://solution94.tistory.com/75)
1. 다 만든 PopupUI object를 inspector에서 체크상자를 해제하여 deactivate 시킨다. 
2. popup과 관련된 버튼들의 on click method에 해당 PopupUI object를 적용시키고, GameObject안에 있는 SetActive method를 사용하여 popup을 띄우고 닫고하는 기능을 설정해준다.
    - popup을 띄울 button은 SetActive method에 체크를 해야하고, popup을 닫을 button은 SetActive method에 체크를 해제하면 된다.
3. Done

## Script를 사용하는 방법
- 이 방법은 기존에 button의 onclick method를 구현하기 위해 script를 사용하는 방법과 상당히 유사하다.
1. popup을 띄우고 닫는 기능을 담당하는 method를 적절한 script에서 만든다.
2. 해당 script를 적절한 object에 적용한 뒤, 해당 object를 on click method에 적용하여, 적절하게 구현한 custom method를 적용하고, 이때 세부적인 값들을 해당 method에게 전달해주는 식으로 구현하면 된다. 
- 만약 unity editor에서 parameter를 전달하기 어려운 상황이면, script내에서 해당 method가 호출될 때, 특정 manager의 instance에 특정값을 저장하는 식으로 하여, 원하는 값을 script에서 전달하게 구현할 수도 있다.
3. Done
- script를 이용하여 popup을 구현할 때 주의할 점은, popup object를 deactivate 시킨 후 게임을 시작하면, script는 해당 object를 reference 시킬 수가 없다.
- 그래서 일단 게임 시작을 할때에는 popup object를 activate시킨 후 게임을 실행한 뒤, script의 awake method에서 해당 object의 reference를 받고, 이후 awake method가 끝나기 전에 해당 popup object를 deactive 시킨 뒤, 특정 상황이 되면 다른 method를 통해 해당 object를 다시 activete 시키는 식으로 구현하면 된다.


[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}