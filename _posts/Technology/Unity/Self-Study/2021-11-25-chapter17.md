---
title: "How to use Easy Save 3"

categories:
    - unity

tags:
    - [Game Engine, Unity, Easy Save 3, Self-Study]

toc: true
toc_label: "목차"
toc_sticky: true

date: 2021-11-25
---

## How to use Easy Save 3
- Unity에서 사용하는 모든 외부 asset를 사용할 때에는 해당 asset의 공식 reference를 참고해서 사용하면 된다.
- 그래서 Easy Save 3 또한 마찬가지로 [공식 reference](https://docs.moodkie.com/product/easy-save-3/)를 참고하여 사용해주면 된다.
- 일단 pacakge manager에서 ES3를 `import`하고 나면, 맨처음에 해야될 것은 다음과 같다.
    - `Assets menu -> Easy Save 3 -> Add Manager to Scene`
    - 이 과정을 거치게 되면, Easy Save 3의 기능을 가능하게 해주는 Manager object가 해당 scene에 자동 생성이 된다.
    - 이후, 해당 manager object를 적절한 hierarcy에 배치한 뒤, 해당 manager를 click한 후, inspector window에서 `Settings`를 눌러주면, ES3에 대한 setting을 다루는 window가 나오게 되고, 거기서 적절히 setting을 설정해주면 된다.
- Setting을 설정할 때에는 일단, 자동적으로 auto save가 켜져있기 때문에, 자신이 auto save를 사용하지 않을 것이라면, Auto Save tab을 누른 뒤, Save Event와 Load Event를 `none`으로 설정해 주면 된다.
    - 이후, 나머지 설정들은 적절히 reference를 참고해서 설정해주면 된다.
    - 또한, Tools tab에 Open Persistent Data Path를 누르게 되면, ES3가 save file을 저장하는 default location이 나오게 된다. 이걸 통해 save file을 default location으로 저장했다면, 저장된 save file을 window explorer에서 확인할 수 있게 된다.
- script에서 ES3의 기능을 사용하고 싶으면, 원하는 code를 바로 사용하면 된다.
    - 즉, ES3 package를 `import` 했으면, script에서는 추가적인 namespace를 using하지 않아도, ES3의 code를 바로 사용할 수 있게된다.
- save와 load는 다음과 같은 코드를 이용해서 구현하면 된다.
```c#
// Easy Save stores data as keys and values, much like a Dictionary.
// info related to the Save 
// 1st argument is the key, 2nd argument is the data to save, and 3rd argument is the path of the save file
// after the file is saved, you can open it up by using any text editor
ES3.Save("Key", saveData, defaultSavePath + slotIndex + ".es3");
// info related to the Load
// in order to load a data without default value
// you need to check whether the key exists in the given location and you need to specify the loaded data type when you call ES3.Load method
// Also you can save and load your custom data type, in this case SaveData is the custom struct type and this code works perfectly
// But in order to use custom data type, make sure that all types of the data member of the custom data type are the supported type
// if there's a type which is not supported by default, you need to make it as support type
// the easiest way to make it as support type is to add public parameterless constructor to that type
// you can check whether the type is supported or not by searching for the name of that type on the Types tab of Easy Save window
if(ES3.KeyExists("Key", defaultSavePath + curIndex + ".es3"))
    SaveData loadData = ES3.Load<SaveData>("Key", defaultSavePath + curIndex + ".es3");
```
- 위의 code와 comment를 읽어보면, 전반적인 save/load는 쉽게 구현할 수 있게 된다.
    - 위의 comment에서 언급한 것들 중, public parameterless constructor를 추가하면 해당 type을 supported type으로 만들 수 있다는 점은 상당히 중요하니 꼭 기억하자.
- 이후 나머지 기능들은 reference를 찾아보며 적절히 사용해주면 된다.

[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}